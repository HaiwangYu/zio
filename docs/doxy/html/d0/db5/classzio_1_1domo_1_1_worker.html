<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZIO: zio::domo::Worker Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ZIO
   </div>
   <div id="projectbrief">Python and C++ interface to ZeroMQ and Zyre</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d1/dad/namespacezio.html">zio</a></li><li class="navelem"><a class="el" href="../../de/d9b/namespacezio_1_1domo.html">domo</a></li><li class="navelem"><a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html">Worker</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d4/dad/classzio_1_1domo_1_1_worker-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">zio::domo::Worker Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d9/d9b/worker_8hpp_source.html">worker.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af33d560682829ef4a7d769b04827c92b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html#af33d560682829ef4a7d769b04827c92b">Worker</a> (<a class="el" href="../../da/d1d/classzmq_1_1socket__t.html">zio::socket_t</a> &amp;sock, std::string broker_address, std::string service)</td></tr>
<tr class="separator:af33d560682829ef4a7d769b04827c92b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8e4543ef1e93fd9d884269ba30c5bfe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html#aa8e4543ef1e93fd9d884269ba30c5bfe">~Worker</a> ()</td></tr>
<tr class="separator:aa8e4543ef1e93fd9d884269ba30c5bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fa424cde323cfb51b7c2ae9c57e0697"><td class="memItemLeft" align="right" valign="top">zio::multipart_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html#a6fa424cde323cfb51b7c2ae9c57e0697">work</a> (zio::multipart_t &amp;reply)</td></tr>
<tr class="separator:a6fa424cde323cfb51b7c2ae9c57e0697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e756def22a51b670ee926904679e818"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html#a4e756def22a51b670ee926904679e818">recv</a> (zio::multipart_t &amp;request)</td></tr>
<tr class="separator:a4e756def22a51b670ee926904679e818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070cb6e107de5f566e3d307696c48016"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html#a070cb6e107de5f566e3d307696c48016">send</a> (zio::multipart_t &amp;reply)</td></tr>
<tr class="separator:a070cb6e107de5f566e3d307696c48016"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The ZIO domo worker API</p>
<p>Applications may use a <a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html">Worker</a> to simplify participating in the GDP worker subprotocol. The protocol is exercised through calls to <a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html#a6fa424cde323cfb51b7c2ae9c57e0697">Worker::work()</a>.</p>
<p>The application must arrange to use the "clientish" socket corresponding to what is in use by the broker but otherwise, differences related to the socket type are subsequently erased by this class. </p>

<p class="definition">Definition at line <a class="el" href="../../d9/d9b/worker_8hpp_source.html#l00021">21</a> of file <a class="el" href="../../d9/d9b/worker_8hpp_source.html">worker.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af33d560682829ef4a7d769b04827c92b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af33d560682829ef4a7d769b04827c92b">&#9670;&nbsp;</a></span>Worker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Worker::Worker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d1d/classzmq_1_1socket__t.html">zio::socket_t</a> &amp;&#160;</td>
          <td class="paramname"><em>sock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>broker_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>service</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a worker providing service. Caller keeps socket eg so to poll it along with others. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html#l00008">8</a> of file <a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html">domo_worker.cpp</a>.</p>

</div>
</div>
<a id="aa8e4543ef1e93fd9d884269ba30c5bfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8e4543ef1e93fd9d884269ba30c5bfe">&#9670;&nbsp;</a></span>~Worker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Worker::~Worker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html#l00031">31</a> of file <a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html">domo_worker.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4e756def22a51b670ee926904679e818"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e756def22a51b670ee926904679e818">&#9670;&nbsp;</a></span>recv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Worker::recv </td>
          <td>(</td>
          <td class="paramtype">zio::multipart_t &amp;&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Recieve a request. Note, if no request is pending, this will wait for at most one heartbeat and return leaving the request empty. If the request is not empty a subsequent <a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html#a070cb6e107de5f566e3d307696c48016">send()</a> shall be made. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html#l00072">72</a> of file <a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html">domo_worker.cpp</a>.</p>

</div>
</div>
<a id="a070cb6e107de5f566e3d307696c48016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070cb6e107de5f566e3d307696c48016">&#9670;&nbsp;</a></span>send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Worker::send </td>
          <td>(</td>
          <td class="paramtype">zio::multipart_t &amp;&#160;</td>
          <td class="paramname"><em>reply</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a reply. A reply must only be sent in response to a request. Note, unlike using <a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html#a6fa424cde323cfb51b7c2ae9c57e0697">work()</a> it is not required, but still allowed, to send an initial empty reply. Empties will simply be ignored. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html#l00060">60</a> of file <a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html">domo_worker.cpp</a>.</p>

</div>
</div>
<a id="a6fa424cde323cfb51b7c2ae9c57e0697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fa424cde323cfb51b7c2ae9c57e0697">&#9670;&nbsp;</a></span>work()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">zio::multipart_t Worker::work </td>
          <td>(</td>
          <td class="paramtype">zio::multipart_t &amp;&#160;</td>
          <td class="paramname"><em>reply</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send reply from last request, if any, and get new request. Both reply and request multiparts begin with "Frames 5+
request body" of 7/MDP. This will only return when there is a request. It will internally allow a timeout and a reconnect to the broker. If owner of the <a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html">Worker</a> needs to get time to do other things while waiting for a request then <a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html#a070cb6e107de5f566e3d307696c48016">send()</a> and <a class="el" href="../../d0/db5/classzio_1_1domo_1_1_worker.html#a4e756def22a51b670ee926904679e818">recv()</a> may be used. </p>

<p class="definition">Definition at line <a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html#l00121">121</a> of file <a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html">domo_worker.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>inc/zio/domo/<a class="el" href="../../d9/d9b/worker_8hpp_source.html">worker.hpp</a></li>
<li>src/<a class="el" href="../../d5/d2a/domo__worker_8cpp_source.html">domo_worker.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
